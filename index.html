<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction Arena Gold - Ultimate</title>
    <style>
        :root {
            --gold: #ffd700; --dark-bg: #0a0a0a; --card-bg: #1a1a1a;
            --accent: #ff4500; --glass: rgba(255, 255, 255, 0.1);
        }
        
        body { 
            background-color: var(--dark-bg); color: #fff; font-family: 'Segoe UI', system-ui;
            margin: 0; overflow: hidden; height: 100vh;
        }

        /* Pantallas */
        .screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            background: var(--dark-bg); z-index: 10;
        }
        .active { display: flex; }

        /* Men√∫ Principal */
        #main-menu { background: radial-gradient(circle, #222 0%, #000 100%); }
        .logo { font-size: 3rem; font-weight: 900; color: var(--gold); text-shadow: 0 0 20px rgba(255,215,0,0.5); margin-bottom: 40px; text-align: center; }

        /* Tarjeta de Juego */
        .game-container { width: 95%; max-width: 450px; }
        #game-board { 
            background: var(--card-bg); padding: 20px; border-radius: 28px; 
            border: 1px solid #333; box-shadow: 0 20px 60px rgba(0,0,0,0.9);
        }

        /* Im√°genes del Objeto */
        .item-image-container {
            width: 100%; height: 180px; background: #000; border-radius: 18px;
            margin-bottom: 15px; overflow: hidden; border: 1px solid #444;
        }
        .item-image-container img { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; }

        /* Botones Estilizados */
        .btn {
            padding: 15px 40px; border: none; border-radius: 50px; font-weight: bold;
            cursor: pointer; transition: 0.3s; text-transform: uppercase; margin: 10px;
            min-width: 200px;
        }
        .btn-gold { background: var(--gold); color: #000; box-shadow: 0 5px 15px rgba(255,215,0,0.3); }
        .btn-outline { background: transparent; border: 2px solid var(--gold); color: var(--gold); }
        .btn:hover { transform: translateY(-3px) scale(1.05); }

        /* Inventario Modal */
        #inventory-screen { background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); }
        .inv-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;
            max-height: 60vh; overflow-y: auto; padding: 20px; width: 90%;
        }
        .inv-slot {
            background: var(--glass); aspect-ratio: 1; border-radius: 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 1px solid #333; font-size: 0.8rem;
        }

        /* Pausa */
        #pause-btn { position: absolute; top: 20px; right: 20px; background: var(--glass); border-radius: 50%; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 1px solid #444; }
    </style>
</head>
<body>

    <div id="main-menu" class="screen active">
        <div class="logo">AUCTION<br>ARENA GOLD</div>
        <button class="btn btn-gold" onclick="showScreen('game-screen')">JUGAR AHORA</button>
        <button class="btn btn-outline" onclick="showScreen('inventory-screen')">INVENTARIO</button>
    </div>

    <div id="game-screen" class="screen">
        <div id="pause-btn" onclick="showScreen('main-menu')">‚è∏</div>
        
        <div class="game-container">
            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; color: var(--gold); font-weight: bold;">
                <span>üí∞ $<span id="balance">1000</span></span>
                <span>Nivel <span id="level">1</span></span>
            </div>

            <div id="game-board">
                <div class="item-image-container">
                    <img id="item-img" src="" alt="Objeto">
                </div>
                <div style="text-align: center;">
                    <div id="rarity-text" style="letter-spacing: 2px; font-size: 0.7rem; font-weight: 900;"></div>
                    <h2 id="item-name" style="margin: 5px 0;">Objeto</h2>
                    <div style="font-size: 2rem; font-weight: bold; color: var(--gold); margin: 10px 0;">$<span id="current-bid">0</span></div>
                    <div id="winner-text" style="color: #888; font-size: 0.9rem;">L√≠der: Nadie</div>
                </div>

                <div style="height: 6px; background: #222; border-radius: 3px; margin: 20px 0; overflow: hidden;">
                    <div id="timer-bar" style="width: 100%; height: 100%; background: var(--accent); transition: width 0.1s linear;"></div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <button class="btn-gold" style="padding: 15px; border-radius: 12px; border:none; font-weight:bold;" onclick="playerBid()">PUJAR (+50)</button>
                    <button id="hammer-btn" style="background:#333; color:white; border:none; border-radius:12px;" onclick="useHammer()">üî® MAZO</button>
                </div>
            </div>
        </div>
    </div>

    <div id="inventory-screen" class="screen">
        <h2 style="color: var(--gold);">MIS TESOROS</h2>
        <div id="inventory-grid" class="inv-grid"></div>
        <button class="btn btn-outline" onclick="showScreen('main-menu')">VOLVER</button>
    </div>

    <div id="overlay" class="screen" style="background: rgba(0,0,0,0.9);">
        <h1 id="modal-title">¬°GANASTE!</h1>
        <p id="modal-msg"></p>
        <button class="btn btn-gold" onclick="closeModal()">CONTINUAR</button>
    </div>

    <script>
        let balance = parseInt(localStorage.getItem('auction_balance')) || 1000;
        let level = parseInt(localStorage.getItem('auction_level')) || 1;
        let inventory = JSON.parse(localStorage.getItem('auction_inv')) || [];
        
        let currentBid = 0, timeLeft = 12, timerInterval, lastBidder = "Nadie", botsBlocked = false;

        const items = [
            { name: "Reloj de Oro", rarity: "RARO", color: "#00ceff", base: 300, img: "https://images.unsplash.com/photo-1524592093030-0560c7c48b0c?w=400" },
            { name: "Coche Deportivo", rarity: "√âPICO", color: "#a335ee", base: 1500, img: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400" },
            { name: "Corona Real", rarity: "LEGENDARIO", color: "#ff8c00", base: 5000, img: "https://images.unsplash.com/photo-1590226053097-e29858df7543?w=400" }
        ];

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            if(screenId === 'game-screen') initLevel();
            if(screenId === 'inventory-screen') renderInventory();
        }

        function initLevel() {
            let item = items[(level - 1) % items.length];
            currentBid = item.base + (level * 50);
            timeLeft = 12; lastBidder = "Nadie"; botsBlocked = false;
            
            document.getElementById('item-name').innerText = item.name;
            document.getElementById('item-img').src = item.img;
            document.getElementById('rarity-text').innerText = item.rarity;
            document.getElementById('rarity-text').style.color = item.color;
            document.getElementById('current-bid').innerText = currentBid;
            document.getElementById('balance').innerText = balance;
            document.getElementById('level').innerText = level;
            
            startTimer();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if(!document.getElementById('game-screen').classList.contains('active')) return;
                timeLeft -= 0.1;
                document.getElementById('timer-bar').style.width = (timeLeft / 12 * 100) + "%";
                if (!botsBlocked && timeLeft > 1 && Math.random() > 0.97) botBid();
                if (timeLeft <= 0) { clearInterval(timerInterval); endAuction(); }
            }, 100);
        }

        function playerBid() {
            if (balance >= currentBid + 50) {
                currentBid += 50; lastBidder = "T√∫";
                timeLeft = Math.min(timeLeft + 2, 6); updateUI();
            }
        }

        function botBid() {
            currentBid += 50; lastBidder = "Bot_" + Math.floor(Math.random()*99);
            timeLeft = Math.min(timeLeft + 2, 5); updateUI();
        }

        function updateUI() {
            document.getElementById('current-bid').innerText = currentBid;
            document.getElementById('winner-text').innerText = "L√≠der: " + lastBidder;
            document.getElementById('balance').innerText = balance;
        }

        function renderInventory() {
            const grid = document.getElementById('inventory-grid');
            if(inventory.length === 0) { grid.innerHTML = "<p>Vac√≠o</p>"; return; }
            grid.innerHTML = inventory.map(item => `
                <div class="inv-slot">
                    <img src="${item.img}" style="width:100%; height:100%; object-fit:cover; border-radius:10px;">
                </div>
            `).join('');
        }

        function endAuction() {
            const overlay = document.getElementById('overlay');
            overlay.classList.add('active');
            let item = items[(level - 1) % items.length];

            if (lastBidder === "T√∫") {
                balance -= currentBid;
                inventory.push({name: item.name, img: item.img});
                level++;
                document.getElementById('modal-title').innerText = "¬°GANASTE!";
                document.getElementById('modal-msg').innerText = "Objeto a√±adido a tu inventario.";
            } else {
                document.getElementById('modal-title').innerText = "PERDISTE";
                document.getElementById('modal-msg').innerText = "Te superaron en la puja.";
            }
            localStorage.setItem('auction_balance', balance);
            localStorage.setItem('auction_level', level);
            localStorage.setItem('auction_inv', JSON.stringify(inventory));
        }

        function closeModal() {
            document.getElementById('overlay').classList.remove('active');
            showScreen('main-menu');
        }

        function useHammer() {
            botsBlocked = true;
            document.getElementById('hammer-btn').style.background = "var(--gold)";
            setTimeout(() => { 
                botsBlocked = false; 
                document.getElementById('hammer-btn').style.background = "#333";
            }, 3000);
        }
    </script>
</body>
</html>
