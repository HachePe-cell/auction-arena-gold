<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Grand Auctioneer PRO | Luxury Simulator</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0000000000000000" crossorigin="anonymous"></script>

    <style>
        :root {
            --gold: #d4af37; --gold-bright: #ffdf00; --velvet: #3d0101;
            --dark-oak: #0d0d0d; --text: #f2e6d0; --bronze: #8c7853;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            background: var(--dark-oak); color: var(--text); font-family: 'Garamond', serif;
            margin: 0; overflow: hidden; height: 100vh; display: flex; flex-direction: column;
        }

        /* --- UI & LAYOUT --- */
        .screen {
            position: fixed; inset: 0; display: none; flex-direction: column;
            align-items: center; justify-content: flex-start; padding: 20px;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%); z-index: 10;
        }
        .active { display: flex; }

        /* --- FOCO REALISTA (SPOTLIGHT) --- */
        .spotlight-container {
            width: 100%; max-width: 450px; height: 280px; position: relative;
            margin-bottom: 20px; border: 4px solid var(--gold); border-radius: 4px;
            overflow: hidden; background: #000;
            box-shadow: inset 0 0 50px #000, 0 0 30px rgba(212, 175, 55, 0.2);
        }
        .spotlight-effect {
            position: absolute; inset: 0;
            background: radial-gradient(circle at 50% 20%, rgba(255,255,255,0.15) 0%, transparent 70%);
            pointer-events: none; z-index: 2; animation: lightFlicker 4s infinite alternate;
        }
        @keyframes lightFlicker { 0% { opacity: 0.8; } 100% { opacity: 1; } }

        #item-image { width: 100%; height: 100%; object-fit: cover; filter: sepia(0.2) contrast(1.1); }

        /* --- BOTONES DE LUJO --- */
        .btn-pro {
            background: linear-gradient(145deg, #d4af37, #b8860b); color: #000;
            border: 1px solid #000; padding: 14px 28px; font-weight: 900;
            text-transform: uppercase; letter-spacing: 2px; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); width: 100%; max-width: 300px;
            margin: 10px 0; border-radius: 2px; box-shadow: 0 4px 0 #665200;
        }
        .btn-pro:active { transform: translateY(2px); box-shadow: 0 2px 0 #665200; }
        .btn-ad { background: var(--velvet); color: white; border: 1px solid var(--gold); }

        /* --- ADSENSE CONTAINERS --- */
        #adsense-container {
            margin-top: auto; width: 100%; max-width: 320px; height: 50px;
            background: rgba(255,255,255,0.05); border: 1px dashed var(--bronze);
            display: flex; align-items: center; justify-content: center; font-size: 10px;
        }

        /* --- AD MODAL (SIMULATED INTERSTITIAL) --- */
        #ad-modal {
            position: fixed; inset: 0; background: #000; z-index: 100;
            display: none; flex-direction: column; align-items: center; justify-content: center;
        }

        /* --- MOBILE RESPONSIVE --- */
        @media (max-height: 600px) {
            .spotlight-container { height: 180px; }
            h1 { font-size: 1.5rem; }
            .btn-pro { padding: 10px; }
        }
    </style>
</head>
<body>

    <div id="screen-menu" class="screen active">
        <h1 style="color:var(--gold); letter-spacing:8px; margin-top:40px;">GRAND AUCTIONEER</h1>
        <div id="user-stats" style="margin-bottom:30px; font-style:italic;">Postor: <span id="val-name" style="color:var(--gold)">---</span> | $<span id="val-balance">0</span></div>
        
        <button class="btn-pro" onclick="startAuction()">ENTRAR A LA SALA</button>
        <button class="btn-pro btn-ad" onclick="showMarket()">GALER√çA & COLECCI√ìN</button>
        
        <div id="adsense-container">
            <ins class="adsbygoogle"
                 style="display:inline-block;width:320px;height:50px"
                 data-ad-client="ca-pub-0000000000000000"
                 data-ad-slot="0000000000"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </div>

    <div id="screen-auction" class="screen">
        <div class="spotlight-container">
            <div class="spotlight-effect"></div>
            <img id="item-image" src="" alt="Antiquity">
        </div>
        
        <h2 id="item-name" style="margin:0; letter-spacing:2px;">---</h2>
        <div id="item-condition" style="color:var(--bronze); font-size:0.8rem; margin-bottom:10px;">EXCELENTE ESTADO</div>
        
        <div style="font-size: 3rem; color:var(--gold); font-weight:bold;">$<span id="live-bid">0</span></div>
        <p id="bid-leader" style="font-style:italic; opacity:0.7;">Esperando ofertas...</p>

        <div style="width:100%; max-width:300px;">
            <button class="btn-pro" onclick="userBid()">OFERTAR +$250</button>
            <button class="btn-pro btn-ad" id="btn-premium" onclick="premiumAppraisal()">TASACI√ìN PREMIUM (AD)</button>
        </div>
    </div>

    <div id="screen-market" class="screen">
        <h2 style="color:var(--gold)">MI COLECCI√ìN PRIVADA</h2>
        <div id="inventory-list" style="width:100%; flex-grow:1; overflow-y:auto; padding:10px;"></div>
        <button class="btn-pro btn-ad" onclick="rewardedVideoMarket()">üì∫ DUPLICAR VALOR (AD)</button>
        <button class="btn-pro" onclick="showScreen('screen-menu')">VOLVER</button>
    </div>

    <div id="ad-modal">
        <div style="color:var(--gold)">Cargando anuncio...</div>
        <div id="ad-timer" style="font-size:3rem; margin:20px 0;">5</div>
        <small>Tu experiencia continuar√° en breve</small>
    </div>

    <script>
        // --- CONFIGURACI√ìN Y ESTADO ---
        let state = {
            name: localStorage.getItem('ga_name') || "Postor_" + Math.floor(Math.random()*999),
            balance: parseInt(localStorage.getItem('ga_bal')) || 5000,
            inventory: JSON.parse(localStorage.getItem('ga_inv')) || [],
            currentAuction: null
        };

        const ITEMS = [
            { id: 1, name: "Cr√°neo de Cristal", base: 2000, val: 5500, img: "https://images.pexels.com/photos/159862/art-skull-crystal-sculpture-159862.jpeg?auto=compress&cs=tinysrgb&w=600" },
            { id: 2, name: "Reloj de Arena Dorado", base: 800, val: 2100, img: "https://images.pexels.com/photos/1154508/pexels-photo-1154508.jpeg?auto=compress&cs=tinysrgb&w=600" },
            { id: 3, name: "Libro de Alquimia", base: 5000, val: 12000, img: "https://images.pexels.com/photos/415071/pexels-photo-415071.jpeg?auto=compress&cs=tinysrgb&w=600" }
        ];

        // --- CORE ENGINE ---
        function init() {
            document.getElementById('val-name').innerText = state.name;
            updateBalanceUI();
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function updateBalanceUI() {
            document.getElementById('val-balance').innerText = state.balance.toLocaleString();
            localStorage.setItem('ga_bal', state.balance);
            localStorage.setItem('ga_inv', JSON.stringify(state.inventory));
        }

        // --- L√ìGICA DE SUBASTA ---
        function startAuction() {
            let item = ITEMS[Math.floor(Math.random() * ITEMS.length)];
            state.currentAuction = { item, bid: item.base, leader: "La Casa", timer: 12 };
            
            document.getElementById('item-image').src = item.img;
            document.getElementById('item-name').innerText = item.name;
            document.getElementById('live-bid').innerText = state.currentAuction.bid;
            document.getElementById('btn-premium').disabled = false;
            
            showScreen('screen-auction');
            auctionLoop();
        }

        function auctionLoop() {
            let loop = setInterval(() => {
                if(!state.currentAuction) { clearInterval(loop); return; }
                state.currentAuction.timer -= 0.1;
                
                if(Math.random() > 0.98 && state.currentAuction.leader !== "Rival") {
                    state.currentAuction.bid += 250;
                    state.currentAuction.leader = "Rival";
                    updateAuctionUI();
                }

                if(state.currentAuction.timer <= 0) {
                    clearInterval(loop);
                    showInterstitialAd(() => endAuction());
                }
            }, 100);
        }

        function userBid() {
            state.currentAuction.bid += 250;
            state.currentAuction.leader = state.name;
            state.currentAuction.timer = Math.min(state.currentAuction.timer + 2, 6);
            updateAuctionUI();
        }

        function updateAuctionUI() {
            document.getElementById('live-bid').innerText = state.currentAuction.bid.toLocaleString();
            document.getElementById('bid-leader').innerText = "L√≠der: " + (state.currentAuction.leader === state.name ? "USTED" : "COMPETIDOR");
        }

        // --- MONETIZACI√ìN (ANUNCIOS) ---
        function showInterstitialAd(callback) {
            const modal = document.getElementById('ad-modal');
            const timerEl = document.getElementById('ad-timer');
            let count = 5;
            
            modal.style.display = 'flex';
            timerEl.innerText = count;

            let adInterval = setInterval(() => {
                count--;
                timerEl.innerText = count;
                if(count <= 0) {
                    clearInterval(adInterval);
                    modal.style.display = 'none';
                    callback();
                }
            }, 1000);
        }

        function premiumAppraisal() {
            document.getElementById('btn-premium').disabled = true;
            showInterstitialAd(() => {
                alert("TASACI√ìN PROFESIONAL: El valor de mercado de este objeto es de $" + state.currentAuction.item.val);
            });
        }

        function rewardedVideoMarket() {
            if(state.inventory.length === 0) return alert("No tienes objetos para tasar.");
            showInterstitialAd(() => {
                state.inventory.forEach(item => item.boughtFor = Math.floor(item.boughtFor * 2));
                alert("¬°ANUNCIO VISTO! Tu colecci√≥n ha duplicado su valor de tasaci√≥n.");
                showMarket();
            });
        }

        // --- FINALIZACI√ìN ---
        function endAuction() {
            if(state.currentAuction.leader === state.name) {
                state.balance -= state.currentAuction.bid;
                state.inventory.push({ 
                    name: state.currentAuction.item.name, 
                    boughtFor: state.currentAuction.bid,
                    img: state.currentAuction.item.img 
                });
                alert("¬°ADJUDICADO! Has ganado la pieza.");
            } else {
                alert("VENDIDO. El objeto se ha ido a otra colecci√≥n.");
            }
            state.currentAuction = null;
            updateBalanceUI();
            showScreen('screen-menu');
        }

        function showMarket() {
            const list = document.getElementById('inventory-list');
            list.innerHTML = state.inventory.map(i => `
                <div style="background:rgba(255,255,255,0.05); padding:10px; margin:5px; border-left:3px solid var(--gold); display:flex; justify-content:space-between;">
                    <span>${i.name}</span>
                    <span style="color:var(--gold)">$${i.boughtFor.toLocaleString()}</span>
                </div>
            `).join('');
            showScreen('screen-market');
        }

        init();
    </script>
</body>
</html>
