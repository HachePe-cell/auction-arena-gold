<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Grand Auctioneer PRO | Global Leaderboard</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-REEMPLAZA-AQUÍ" crossorigin="anonymous"></script>

    <style>
        :root {
            --gold: #d4af37; --gold-bright: #ffdf00; --velvet: #3d0101;
            --dark-oak: #0d0d0d; --text: #f2e6d0; --bronze: #8c7853;
            --rank-glow: 0 0 15px rgba(212, 175, 55, 0.5);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            background: var(--dark-oak); color: var(--text); font-family: 'Garamond', serif;
            margin: 0; overflow: hidden; height: 100vh;
        }

        .screen {
            position: fixed; inset: 0; display: none; flex-direction: column;
            align-items: center; justify-content: flex-start; padding: 20px;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%); z-index: 10;
        }
        .active { display: flex; }

        /* --- LEADERBOARD STYLE --- */
        .leaderboard-table {
            width: 100%; max-width: 350px; background: rgba(255,255,255,0.03);
            border: 1px solid var(--bronze); border-radius: 8px; overflow: hidden;
            margin-top: 20px;
        }
        .leaderboard-row {
            display: flex; justify-content: space-between; padding: 12px 15px;
            border-bottom: 1px solid rgba(140, 120, 83, 0.2);
        }
        .leaderboard-row:first-child { background: var(--gold); color: #000; font-weight: bold; }
        .rank-number { width: 30px; font-weight: bold; color: var(--gold); }
        
        /* --- SPOTLIGHT & UI --- */
        .spotlight-container {
            width: 100%; max-width: 400px; height: 250px; position: relative;
            margin-bottom: 15px; border: 3px solid var(--gold); background: #000;
        }
        .spotlight-effect {
            position: absolute; inset: 0;
            background: radial-gradient(circle at 50% 20%, rgba(255,255,255,0.2) 0%, transparent 75%);
            pointer-events: none; z-index: 2;
        }
        #item-image { width: 100%; height: 100%; object-fit: cover; }

        .btn-pro {
            background: linear-gradient(145deg, #d4af37, #b8860b); color: #000;
            border: none; padding: 14px; font-weight: 900; width: 100%; max-width: 300px;
            text-transform: uppercase; letter-spacing: 2px; cursor: pointer; margin: 8px 0;
            box-shadow: 0 4px 0 #665200;
        }
        .btn-ad { background: var(--velvet); color: white; border: 1px solid var(--gold); }
        
        .rank-badge {
            background: var(--gold); color: #000; padding: 2px 10px;
            border-radius: 20px; font-size: 0.7rem; font-weight: bold; margin-left: 10px;
            box-shadow: var(--rank-glow);
        }

        #ads-banner { margin-top: auto; border: 1px dashed var(--bronze); padding: 5px; font-size: 10px; }
    </style>
</head>
<body>

    <div id="screen-menu" class="screen active">
        <h1 style="color:var(--gold); letter-spacing:5px; margin-bottom:5px;">GRAND AUCTIONEER</h1>
        <div style="margin-bottom:20px;">
            <span id="p-name">Cargando...</span>
            <span id="p-rank" class="rank-badge">Novato</span>
        </div>
        <div style="font-size:1.8rem; color:var(--gold); margin-bottom:20px;">$<span id="p-balance">0</span></div>
        
        <button class="btn-pro" onclick="startAuction()">SALA DE SUBASTAS</button>
        <button class="btn-pro btn-ad" onclick="showLeaderboard()">TABLA DE LÍDERES</button>
        <button class="btn-pro btn-ad" onclick="showMarket()">MI GALERÍA</button>

        <div id="ads-banner">ESPACIO PARA BANNER AD</div>
    </div>

    <div id="screen-leaderboard" class="screen">
        <h2 style="color:var(--gold)">RANGO MUNDIAL</h2>
        <div class="leaderboard-table" id="leaderboard-content">
            </div>
        <button class="btn-pro" style="margin-top:20px;" onclick="showScreen('screen-menu')">VOLVER AL CLUB</button>
    </div>

    <div id="screen-auction" class="screen">
        <div class="spotlight-container">
            <div class="spotlight-effect"></div>
            <img id="item-image" src="">
        </div>
        <h2 id="item-name">---</h2>
        <div style="font-size: 2.5rem; color:var(--gold); font-weight:bold;">$<span id="live-bid">0</span></div>
        <p id="bid-leader">Esperando ofertas...</p>
        <button class="btn-pro" onclick="userBid()">OFERTAR +$250</button>
        <button class="btn-pro btn-ad" onclick="premiumAppraisal()">TASACIÓN PREMIUM (AD)</button>
    </div>

    <script>
        let state = {
            name: localStorage.getItem('ga_name') || "Postor_" + Math.floor(Math.random()*999),
            balance: parseInt(localStorage.getItem('ga_bal')) || 2500,
            inventory: JSON.parse(localStorage.getItem('ga_inv')) || [],
            currentAuction: null
        };

        // Leaderboard ficticio (Para conectar con API en Replit)
        let fakeGlobalRanks = [
            { name: "Lord Wealthy", bal: 500000 },
            { name: "Barón Rojo", bal: 250000 },
            { name: "The Collector", bal: 100000 },
            { name: "ArtHunter", bal: 75000 }
        ];

        const ITEMS = [
            { name: "Cetro del Faraón", base: 3000, img: "https://images.pexels.com/photos/3354675/pexels-photo-3354675.jpeg?auto=compress&cs=tinysrgb&w=400" },
            { name: "Reloj de Bolsillo 1700", base: 1200, img: "https://images.pexels.com/photos/280250/pexels-photo-280250.jpeg?auto=compress&cs=tinysrgb&w=400" },
            { name: "Mapa de la Atlántida", base: 8000, img: "https://images.pexels.com/photos/6620701/pexels-photo-6620701.jpeg?auto=compress&cs=tinysrgb&w=400" }
        ];

        function init() {
            document.getElementById('p-name').innerText = state.name;
            updateUI();
        }

        function updateUI() {
            document.getElementById('p-balance').innerText = state.balance.toLocaleString();
            let rank = "Novato";
            if(state.balance > 10000) rank = "Marchante";
            if(state.balance > 100000) rank = "Magnate";
            if(state.balance > 1000000) rank = "Legendario";
            document.getElementById('p-rank').innerText = rank;
            
            localStorage.setItem('ga_bal', state.balance);
            localStorage.setItem('ga_inv', JSON.stringify(state.inventory));
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function showLeaderboard() {
            let combined = [...fakeGlobalRanks, { name: state.name + " (TÚ)", bal: state.balance }];
            combined.sort((a, b) => b.bal - a.bal);
            
            let html = `<div class="leaderboard-row"><span># Rango</span><span>Nombre</span><span>Fortuna</span></div>`;
            combined.slice(0, 6).forEach((player, i) => {
                html += `
                <div class="leaderboard-row" style="${player.name.includes('(TÚ)') ? 'border:1px solid var(--gold)' : ''}">
                    <span class="rank-number">${i+1}</span>
                    <span>${player.name}</span>
                    <span style="color:var(--gold)">$${player.bal.toLocaleString()}</span>
                </div>`;
            });
            document.getElementById('leaderboard-content').innerHTML = html;
            showScreen('screen-leaderboard');
        }

        // LÓGICA DE JUEGO (Simplificada para el ejemplo)
        function startAuction() {
            let item = ITEMS[Math.floor(Math.random() * ITEMS.length)];
            state.currentAuction = { item, bid: item.base, leader: "La Casa", timer: 10 };
            document.getElementById('item-image').src = item.img;
            document.getElementById('item-name').innerText = item.name;
            document.getElementById('live-bid').innerText = state.currentAuction.bid;
            showScreen('screen-auction');
            
            let loop = setInterval(() => {
                state.currentAuction.timer -= 1;
                if(Math.random() > 0.8) {
                    state.currentAuction.bid += 250;
                    state.currentAuction.leader = "Rival";
                    document.getElementById('live-bid').innerText = state.currentAuction.bid.toLocaleString();
                    document.getElementById('bid-leader').innerText = "Líder: COMPETIDOR";
                }
                if(state.currentAuction.timer <= 0) {
                    clearInterval(loop);
                    finishAuction();
                }
            }, 1000);
        }

        function userBid() {
            state.currentAuction.bid += 250;
            state.currentAuction.leader = state.name;
            state.currentAuction.timer = 6;
            document.getElementById('live-bid').innerText = state.currentAuction.bid.toLocaleString();
            document.getElementById('bid-leader').innerText = "Líder: USTED";
        }

        function finishAuction() {
            if(state.currentAuction.leader === state.name) {
                state.balance -= state.currentAuction.bid;
                alert("¡GANASTE!");
            } else {
                alert("PERDISTE.");
            }
            updateUI();
            showScreen('screen-menu');
        }

        init();
    </script>
</body>
</html>
